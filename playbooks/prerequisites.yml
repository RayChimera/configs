---
- name: Prerequisites
  hosts: localhost

  tasks:
  - name: Install prerequisites
    become: true
    ansible.builtin.apt:
      pkg:
        - build-essential
        - wget
        - curl
        - gpg
        - apt-transport-https
        - git
      state: latest

  - name: Install Flatpak
    become: true
    ansible.builtin.apt:
      pkg:
        - flatpak
      state: latest

  - name: Configure Flatpak remote
    community.general.flatpak_remote:
      name: flathub
      state: present
      flatpakrepo_url: https://dl.flathub.org/repo/flathub.flatpakrepo
  
  - name: Make "Projects" folder
    ansible.builtin.file:
      path: ~/Projects
      state: directory

  - name: Clone your repo with configs
    ansible.builtin.git:
      repo: 'https://github.com/RayChimera/configs'
      dest: ~/Projects/configs/
